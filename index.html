<html>
	<head>
		<style>
			#container {
				text-align: center;
			}
		</style>
	</head>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

	<div id="container">
		<h1>MBTI 2.0</h1>

		<h2>O teste consiste de 10 pontos e é separado em partes, sendo elas gostos, morais, situações e adjetivos</h2>

		<button onclick="start()"><h4>Começar teste</h4></button>
	</div>
	
	<div id="pdf"></div>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity=	"sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
	<script>
	function start() {
		partes = [
			[
				{
					"pergunta": "Cor do quarto do seu futuro filho",
					"respostas": ['Azul']
				},
				{
					"pergunta": "Penteado da sua filha de 6 anos",
					"respostas": ['franjinha', 'franja', 'padrão', 'militar']
				},
				{
					"pergunta": "Fim de um dia qualquer após o trabalho junto com seu namorado, qual será atividade",
					"respostas": ['ar livre', 'cozy', 'sozinhos', 'conversar', 'jantar']
				},
				{
					"pergunta": "Escritorio ou Campo, por que",
					"respostas": []
				},
				{
					"pergunta": "Em um sitío, qual parte é mais importante, e por que",
					"respostas": []
				}
			],
			[
				{
					"pergunta": "Seu filho deveria bater de volta no amigo que bateu nele",
					"respostas": ['Sim']
				},
				{
					"pergunta": "Se você está discutindo com alguem, é uma possibilidade sair como errado mesmo estando certo",
					"respostas": ['Sim']
				},
				{
					"pergunta": "Uma viajem para o Leste Europeu vale como uma viajem para Europa? dado que é uma oportunidade dentro do seu trabalho e não uma viajem que arquitetou",
					"respostas": ['Sim']
				},
				{
					"pergunta": "Uma mulher precisa nutrir da mesma forma que um homem precisa prover",
					"respostas": ['Sim']
				},
				{
					"pergunta": "O papel da mulher e do homem é o que eles quiserem ser",
					"respostas": ['Não']
				}
			],
			[
				{
					"pergunta": "Em quanto tempo você voltaria para casa dos seus país caso brigassem por conta da forma que cuida dos seus filhos? por que voltaria, ou por que não",
					"respostas": ['Conversar', 'não terminar']
				},
				{
					"pergunta": "Seu filho fica trancado no quarto por que você tirou o acesso dele a internet devido suas pessimas notas na escola pelo 2 bimestre seguido. Essa abordagem foi correta? e qual deveria ser a proxima para lidar com seu filho",
					"respostas": ['disciplina']
				},
				{
					"pergunta": "Você briga com seu colega do trabalho por falta de comprometimento dele vocês atrasam um deadline importante e que precedia uma possivel promoção, e ele sabia disso. Qual seria sua abordagem com seu colega nessa situação? E qual seria sua abordagem sobre o trabalho de vocês (2 frases)",
					"respostas": [] 
				},
				{
					"pergunta": "Quando com vontade de chorar após uma decepção na sua vida pessoal, estando no seu trabalho, qual sua abordagem enquanto lá e qual é a proxima após sair dele (2 frases)",
					"respostas": [] 
				},
				{
					"pergunta": "Como seu filho austista (descreva uma forma que se adapte para todos os niveis do aspectro) seria exposto ao ambiente externo ao seu nucleo familiar, e por que (2 frases)",
					"respostas": [] 
				}
			],
			[
				{
					"pergunta": "Mundo",
					"respostas": ['Belo', 'Lindo', 'Maravilhoso']
				},
				{
					"pergunta": "Vida",
					"respostas": ['Belo', 'Lindo', 'Maravilhoso']
				},
				{
					"pergunta": "Politica",
					"respostas": [] 
				},
				{
					"pergunta": "Economia",
					"respostas": [] 
				},
				{
					"pergunta": "Casamento",
					"respostas": [] 
				},
				{
					"pergunta": "Namoro",
					"respostas": [] 
				},
				{
					"pergunta": "Amor",
					"respostas": [] 
				},
				{
					"pergunta": "Pais",
					"respostas": [] 
				},
				{
					"pergunta": "País",
					"respostas": [] 
				},
				{
					"pergunta": "Juventude",
					"respostas": []
				}
			],
			[
				{
					"pergunta": "Fale um pouco sobre você, o que faz no seu dia-a-dia",
					"respostas": ['estudando', 'estudo', 'rotina', 'famila', 'filho', 'pais']
				},
			]
		]

		var pdf = document.getElementById('pdf');
		pdf.innerHTML += "<h1>Adequada 1, Não adequada 0</h1>";
		pdf.innerHTML += "<h3>Minimo para ser considerado based: 5</h3>";

		var total = 0;
		var perguntas = 0;
		partes.forEach((parte, i) => {
			pdf.innerHTML += "<h1>Parte " + (i + 1) + "</h1>";
			var parte_total = 0;
			parte.forEach((pergunta, c) => {
				var resposta = prompt(pergunta.pergunta)
				var resposta_resultado = 0;
				pergunta.respostas.forEach((resposta) => {
					if (resposta.toLowerCase().includes(resposta.toLowerCase())) {
						resposta_resultado = 1;
					}
				})
				if (resposta_resultado == 1) {
					parte_total += 1;
				}
				pdf.innerHTML += '<p><b>Pergunta ' + (c + 1) + '</b></p>';
				pdf.innerHTML += '<p>Pergunta: ' + pergunta.pergunta + '</p>';
				pdf.innerHTML += '<p>Resposta: ' + resposta + '</p>';
				pdf.innerHTML += '<p>Resultado: <b>' + resposta_resultado + '</b></p>';
				pdf.innerHTML += '<p>Respostas esperadas: ' + pergunta.respostas + '</p>';
				pdf.innerHTML += '<br>';	
			})
			pdf.innerHTML += "<p><b>Total da parte: " + parte_total + "/" + parte.length + "</b></p>";
			total += parte_total;
			perguntas += parte.length;
		})

		pdf.innerHTML += "<h1>Total: " + total + "/" + perguntas + "</h1>";
		if (total > 5) {
			pdf.innerHTML += "<h1>Parabens, você é BASED!!!!!!</h1>";
		} else {
			pdf.innerHTML += "<h1>você NÃO é based, mas ainda é possivel se tornar, segue o link do livro aprioritico: ...</h1>";
		}

		html2pdf(pdf);
	}	
	</script>
</html>